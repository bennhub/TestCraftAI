<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="botTester.jpeg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />


  <title>Chatbot</title>
  <link rel="stylesheet" href="style.css" />
  
  <style>
    /* Modal Styles */
    .api-key-modal, .context-modal, .test-case-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .api-key-modal-content, .context-modal-content, .modal-content {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .context-preview {
      background: #f5f5f5;
      white-space: pre-wrap;
      font-family: monospace;
      font-size: 12px;
    }
    
    .modal-buttons {
      display: flex;
      gap: 10px;
      margin-top: 1rem;
    }
    
    .modal-buttons button {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="main-content">
    <!-- Chatbot Description -->
    <div class="section">
      <h1>Test Bot Buddy </h1>
      <p>Powered by Google Gemini AI</p>
      <h2>From test plans to edge cases — it's like pair testing with AI</h2>
      <p>
        Brainstorm test plans, craft edge cases, or bounce ideas — all with a little help from AI.
      </p>

    </div>

    <!-- Form to Create Test Case -->
    <div class="section">
      <h1>Add Ticket Info</h1>
      <form id="test-case-form">
        <label for="testcase-title">Ticket Title</label><br />
        <input type="text" id="testcase-title" name="testcase-title" placeholder="Enter test case title"
          required /><br /><br />

        <label for="testcase-details">Ticket Details:</label><br />
        <textarea id="testcase-details" name="testcase-details" rows="4" placeholder="Enter test case details"
          required></textarea><br /><br />
      </form>
    </div>

    <!-- Generate Options Section -->
    <div class="section">
      <h1>Generate QA Materials</h1>
      <p>Generate various QA documents based on the details above</p>

      <!-- Generate options will be dynamically created by JavaScript -->
      <div id="generate-options">
        <button id="generate-test-case-btn" class="context-button btn-blue">Generate Test Case</button>
        <button id="generate-questions-btn" class="context-button btn-green">Generate Questions</button>
        <button id="generate-test-plan-btn" class="context-button btn-purple">Generate Test Plan</button>
      </div>
    </div>

    <!-- 
      <div class="section">
        <h1>Generate Test Cases</h1>
        <p>
          Click on test cases below to generate test steps and expected results
        </p>
       
        <div id="case-container">
          <ul id="test-case-list" class="test-case-list">
           
          </ul>
        </div>
      </div> 
      -->

    <!-- App Context Management Section -->
    <div class="section context-section">
      <h1>App Context Management</h1>
      <p>
        Improve AI test case generation by providing details about your application
      </p>
      <div class="context-controls">
        <button id="edit-context-btn" class="context-button btn-blue">Edit App Documentation</button>
        <button id="view-context-btn" class="context-button btn-green">View Current Context</button>
        <button id="clear-history-btn" class="context-button btn-yellow">Clear Conversation History</button>
        <button id="api-key-settings-btn" class="context-button btn-orange">API Key Settings</button>
        <!-- <button id="reset-context-btn" class="context-button btn-red">Reset To Default</button>-->
      </div>
    </div>
  </div>

  <!-- Button to Open the Chatbot -->
  <button id="open-chatbot" class="open-chatbot-button">
    <i class="material-symbols-outlined">robot_2</i>
  </button>

  <!-- Chat Sidebar -->
  <div class="chat-sidebar">
    <!-- Chatbot Pop-up -->
    <div id="chatbot-popup" class="chatbot-popup">
      <!-- Pop-up Close Button -->
      <span class="close-button" id="close-chatbot">×</span>

      <!-- Header -->
      <div class="p-2 bg-gemRegular flex gap-5 items-center border-b border-gray-300">
        <i class="material-symbols-outlined" style="font-size: 50px; padding: 20px;">robot_2</i>
        <h1 style="padding: 30px; font-size: 1.50rem; font-weight: 200;">Test Botter Response Area</h1>
      </div>

      <!-- Chat Area -->
      <div id="chat-container" class="chat-container flex-grow overflow-y-auto p-4">
        <!-- Chat messages will appear here -->
      </div>

      <!-- Text Input Box - Now properly enabled -->
      <form action="" method="post" class="chat-form p-2 border-t border-gray-300 flex" id="chat-form">
         <!-- <input
          type="text"
          id="prompt"
          placeholder="Type your message..."
          class="flex-grow p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          autocomplete="off"
        />
        <button
          type="submit"
          class="bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600 flex-shrink-0"
        >
          Send
        </button>-->
      </form>
    </div>
  </div>

  <!-- Important: Make sure to use type="module" for ES6 import/export support -->
  <script type="module" src="main.js"></script>
</body>

</html>