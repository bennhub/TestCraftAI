<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="botTester.jpeg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Chatbot</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="main-content">
      <!-- Chatbot Description -->
      <div class="section">
        <h1>Explore My Advanced Test Case Generator</h1>
        <p>Integrated with Google Gemini AI modal</p>
        <h2>Assists in crafting critical scenarios based on custom prompts</h2>
        <p>
          Explore methods for crafting critical thinking test cases using AI
          guidance.
        </p>
      </div>

      <!-- Form to Create Test Case -->
      <div class="section">
        <h1>Add Ticket Info</h1>
        <form id="test-case-form">
          <label for="testcase-title">Ticket Title</label><br />
          <input
            type="text"
            id="testcase-title"
            name="testcase-title"
            placeholder="Enter test case title"
            required
          /><br /><br />

          <label for="testcase-details">Ticket Details:</label><br />
          <textarea
            id="testcase-details"
            name="testcase-details"
            rows="4"
            placeholder="Enter test case details"
            required
          ></textarea
          ><br /><br />
        </form>
      </div>

      <!-- Generate Options Section -->
      <div class="section">
        <h1>Generate QA Materials</h1>
        <p>Generate various QA documents based on the details above</p>
        
        <!-- Generate options will be dynamically created by JavaScript -->
        <div id="generate-options">
          <button id="generate-test-case-btn" class="context-button btn-blue">Generate Test Case</button>
          <button id="generate-questions-btn" class="context-button btn-green">Generate Questions</button>
          <button id="generate-test-plan-btn" class="context-button btn-purple">Generate Test Plan</button>
        </div>
      </div>

      <!-- 
      <div class="section">
        <h1>Generate Test Cases</h1>
        <p>
          Click on test cases below to generate test steps and expected results
        </p>
       
        <div id="case-container">
          <ul id="test-case-list" class="test-case-list">
           
          </ul>
        </div>
      </div> 
      -->

      <!-- App Context Management Section -->
      <div class="section context-section">
        <h1>App Context Management</h1>
        <p>
          Improve AI test case generation by providing details about your application
        </p>
        <div class="context-controls">
          <button id="edit-context-btn" class="context-button btn-blue">Edit App Documentation</button>
          <button id="view-context-btn" class="context-button btn-green">View Current Context</button>
          <button id="clear-history-btn" class="context-button btn-yellow">Clear Conversation History</button>
          <button id="reset-context-btn" class="context-button btn-red">Reset To Default</button>
        </div>
      </div>
    </div>

    <!-- Button to Open the Chatbot -->
    <button id="open-chatbot" class="open-chatbot-button">
      <img src="botTester.jpeg" alt="bot icon" class="w-8 h-8 rounded-md" />
    </button>

    <!-- Chat Sidebar -->
    <div class="chat-sidebar">
      <!-- Chatbot Pop-up -->
      <div id="chatbot-popup" class="chatbot-popup">
        <!-- Pop-up Close Button -->
       <span class="close-button" id="close-chatbot">Ã—</span> 

        <!-- Header -->
        <div
          class="p-2 bg-gemRegular flex gap-5 items-center border-b border-gray-300"
        >
          <img
            src="./public/bot1.png"
            alt="chatbot image"
            class="w-10 h-10 rounded-md flex-shrink-0"
          />
          <h1 class="text-gemDeep text-lg font-medium">Test Buddy Response</h1>
        </div>

        <!-- Chat Area -->
        <div
          id="chat-container"
          class="chat-container flex-grow overflow-y-auto p-4"
        >
          <!-- Chat messages will appear here -->
        </div>

        <!-- Text Input Box - Explicitly define the input field -->
        <form
          action=""
          method="post"
          class="chat-form p-2 border-t border-gray-300 flex"
          id="chat-form"
        >
          <input
            type="text"
            id="prompt"
            placeholder="Type your message..."
            class="flex-grow p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
          />
          <button
            type="submit"
            class="bg-blue-500 text-white p-2 rounded-r-md hover:bg-blue-600 flex-shrink-0"
          >
            Send
          </button>
        </form>
      </div>
    </div>
    
    <!-- Important: Make sure to use type="module" for ES6 import/export support -->
    <script type="module" src="main.js"></script>
  </body>
</html>